<footer class="mx-auto flex h-[4.5rem] max-w-(--w) items-center px-8 text-xs tracking-wider uppercase opacity-60">
    <div class="mr-auto">
        {{- if site.Copyright -}} {{- site.Copyright -}} {{- else -}} &copy; {{-
        now.Year -}}
        <a class="link" href="{{- `` | absURL -}}">{{- site.Title -}}</a>
        {{- end -}}
    </div>
    <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank">powered by hugo</a>
    <a class="link" href="https://github.com/nanxiaobei/hugo-paper" rel="noopener" target="_blank">hugo-paper</a>
    {{ if site.Params.enableMermaid }}
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        // システムのダークモード設定を検出
        const prefersDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        
        // ダークモードに応じてテーマを設定
        mermaid.initialize({ 
            startOnLoad: true,
            theme: prefersDarkMode ? 'dark' : 'default'
        });
        
        // ダークモード設定の変更を監視
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            const newTheme = event.matches ? 'dark' : 'default';
            // Mermaidを再初期化
            mermaid.initialize({ 
                startOnLoad: true,
                theme: newTheme
            });
        });
    </script>
    {{ end }}
</footer>